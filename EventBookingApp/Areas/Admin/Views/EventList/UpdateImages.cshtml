@model IEnumerable<EventBookingApp.Web.Areas.Admin.ViewModel.ImageViewModels>

@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewData["Title"] = "UpdateImages";
    var Eventid = 0;
}
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <style>
        #showImg {
            height: 500px;
            width: 600px;
        }

        .carousel-inner {
            border-radius: 10px;
        }

            .carousel-inner div img {
                height: 500px;
                width: 600px;
            }
    </style>


    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        function DeleteImage(prodid) {
            alert(Eventid);
            var elem = $(".active").attr("id");
            console.log(elem);
            $.ajax({
                url: location2 + 'DeleteImage',
                type: "Post",
                data: { Id: elem },
                success: function (response) {
                    window.location = location2 + "UpdateImages?Eventid=" + Eventid;
                }
            })
        }
    </script>
</head>
<div class="py-2">
    <label class="text-blue"><i class="fa-brands fa-opencart"> Update Images</i></label>
</div>
<div id="showImg" class=" container carousel slide " data-ride="carousel">

    <div class="carousel-inner">
        @{var i = 0;

        }
        @foreach (var item in Model)
        {
            if (i == 0)
            {
                <div class="carousel-item active" data-interval="100000" id="@item.Id">
                    <img src="@item.URL" class="">
                </div>
            }
            else
            {
                <div class="carousel-item" data-interval="100000" id="@item.Id">
                    <img src="@item.URL" class="">
                </div>
            }
            i++;
            Eventid = item.EventId;
        }

    </div>

    <a class="carousel-control-prev" href="#showImg" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#showImg" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
    <div class="py-2">
        <button class="btn btn-danger text-white btn-block" onclick="DeleteImage(@Eventid)"> Delete Image</button>
    </div>
    <div class="py-1">
        <a class="btn btn-primary text-white btn-block" asp-route-prodId="@Eventid" asp-action="AddImage" asp-controller="Restaurant" asp-area="Restaurant"> Add Image</a>
    </div>
</div>